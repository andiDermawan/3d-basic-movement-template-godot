[gd_scene load_steps=7 format=3 uid="uid://8ldjmy7c620u"]

[ext_resource type="Script" uid="uid://on0545bq2ix6" path="res://scripts/player_character.gd" id="1_4flbx"]
[ext_resource type="PackedScene" uid="uid://bwjpuk8vbkhs5" path="res://scenes/hud.tscn" id="2_kww55"]
[ext_resource type="PackedScene" uid="uid://xjmmbum35pw0" path="res://scenes/state_machine.tscn" id="2_qhqgy"]
[ext_resource type="PackedScene" uid="uid://8r15gkwy3t6o" path="res://scenes/player_model.tscn" id="3_4h0vy"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_4h0vy"]
radius = 0.4
height = 1.8

[sub_resource type="SphereShape3D" id="SphereShape3D_kww55"]

[node name="PlayerCharacter" type="CharacterBody3D" node_paths=PackedStringArray("player_model", "animation_tree")]
collision_mask = 2
script = ExtResource("1_4flbx")
first_person_mode = false
player_model = NodePath("PlayerModel")
animation_tree = NodePath("PlayerModel/AnimationTree")
animation_blend_path = "parameters/blend_position"

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HUD" parent="CanvasLayer" instance=ExtResource("2_kww55")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.885, 0)
shape = SubResource("CapsuleShape3D_4h0vy")

[node name="PlayerModel" parent="." instance=ExtResource("3_4h0vy")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="PlayerModel" index="0"]
bones/0/position = Vector3(-0.000530003, 0.989983, 0.00342771)
bones/0/rotation = Quaternion(-0.0316574, -0.0448916, -0.0269376, 0.998127)
bones/1/rotation = Quaternion(-0.029192, 0.0149984, 0.0241538, 0.999169)
bones/2/rotation = Quaternion(0.0109393, 0.00256673, 0.0143273, 0.999834)
bones/3/rotation = Quaternion(0.0679497, 0.0033273, 0.0141067, 0.997584)
bones/4/rotation = Quaternion(0.0520045, -0.00200355, 0.00363133, 0.998638)
bones/5/rotation = Quaternion(-0.0735241, 0.00862034, -0.00184743, 0.997255)
bones/7/rotation = Quaternion(-0.599569, -0.433209, 0.508488, -0.440781)
bones/8/rotation = Quaternion(0.542834, 0.180035, 0.205806, 0.79408)
bones/9/rotation = Quaternion(-5.29403e-08, 1.54505e-09, 0.0131121, 0.999914)
bones/10/rotation = Quaternion(0.0458623, -0.283748, 0.0280196, 0.957392)
bones/31/rotation = Quaternion(0.603529, -0.430971, 0.523576, 0.419387)
bones/32/rotation = Quaternion(0.463874, -0.263766, -0.22921, 0.81407)
bones/33/rotation = Quaternion(1.67947e-07, -3.88828e-08, -0.0577709, 0.99833)
bones/34/rotation = Quaternion(0.0558581, 0.178397, -0.00483773, 0.98236)
bones/55/rotation = Quaternion(0.137766, 0.0746564, 0.984554, -0.0780993)
bones/56/rotation = Quaternion(-0.13056, -0.011358, 0.0317177, 0.990868)
bones/57/rotation = Quaternion(0.534446, -0.022304, -0.0283046, 0.844434)
bones/60/rotation = Quaternion(-0.091118, -0.0189275, 0.995319, -0.0260573)
bones/61/rotation = Quaternion(-0.0764629, 0.0841999, -0.0252956, 0.993189)
bones/62/rotation = Quaternion(0.569239, 0.0115983, -0.00835911, 0.822048)
bones/63/rotation = Quaternion(0.287762, 0.0318969, 0.0141059, 0.957067)

[node name="XCameraPivot" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="YCameraPivot" type="Node3D" parent="XCameraPivot"]
unique_name_in_owner = true

[node name="SpringArm3D" type="SpringArm3D" parent="XCameraPivot/YCameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.4, 0)
collision_mask = 2
shape = SubResource("SphereShape3D_kww55")
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="XCameraPivot/YCameraPivot/SpringArm3D"]
current = true

[node name="Head" type="Camera3D" parent="XCameraPivot"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, -0.2)

[node name="StateMachine" parent="." instance=ExtResource("2_qhqgy")]

[connection signal="state_changed" from="StateMachine" to="CanvasLayer/HUD" method="_on_state_machine_state_changed"]

[editable path="PlayerModel"]
[editable path="StateMachine"]
