[gd_scene load_steps=7 format=3 uid="uid://8ldjmy7c620u"]

[ext_resource type="Script" uid="uid://on0545bq2ix6" path="res://scripts/player_character.gd" id="1_4flbx"]
[ext_resource type="PackedScene" uid="uid://bwjpuk8vbkhs5" path="res://scenes/hud.tscn" id="2_kww55"]
[ext_resource type="PackedScene" uid="uid://xjmmbum35pw0" path="res://scenes/state_machine.tscn" id="2_qhqgy"]
[ext_resource type="PackedScene" uid="uid://8r15gkwy3t6o" path="res://scenes/player_model.tscn" id="3_4h0vy"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_4h0vy"]
radius = 0.4
height = 1.8

[sub_resource type="SphereShape3D" id="SphereShape3D_kww55"]

[node name="PlayerCharacter" type="CharacterBody3D" node_paths=PackedStringArray("player_model", "animation_tree")]
collision_mask = 2
script = ExtResource("1_4flbx")
first_person_mode = false
player_model = NodePath("PlayerModel")
animation_tree = NodePath("PlayerModel/AnimationTree")
animation_blend_path = "parameters/blend_position"

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HUD" parent="CanvasLayer" instance=ExtResource("2_kww55")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.885, 0)
shape = SubResource("CapsuleShape3D_4h0vy")

[node name="PlayerModel" parent="." instance=ExtResource("3_4h0vy")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="PlayerModel" index="0"]
bones/0/position = Vector3(0.00260808, 0.989983, -0.00107874)
bones/0/rotation = Quaternion(-0.0311088, -0.0469419, -0.0290358, 0.997991)
bones/1/rotation = Quaternion(-0.0318661, 0.0110671, 0.0225976, 0.999175)
bones/2/rotation = Quaternion(0.0103036, 0.00122213, 0.0138259, 0.999851)
bones/3/rotation = Quaternion(0.0675807, 0.00222305, 0.0137921, 0.997616)
bones/4/rotation = Quaternion(0.0517441, -0.000912129, 0.00401202, 0.998652)
bones/5/rotation = Quaternion(-0.0659023, 0.011731, -0.0014339, 0.997756)
bones/7/rotation = Quaternion(-0.598154, -0.43456, 0.507404, -0.442618)
bones/8/rotation = Quaternion(0.543586, 0.184766, 0.202955, 0.793212)
bones/9/rotation = Quaternion(-5.74336e-08, 2.45891e-08, 0.012755, 0.999919)
bones/10/rotation = Quaternion(0.0484827, -0.284732, 0.0264177, 0.957016)
bones/31/rotation = Quaternion(0.599886, -0.434887, 0.523888, 0.420179)
bones/32/rotation = Quaternion(0.464043, -0.263183, -0.232772, 0.813152)
bones/33/rotation = Quaternion(8.64002e-08, -2.16359e-08, -0.0583483, 0.998296)
bones/34/rotation = Quaternion(0.0591728, 0.174651, -0.00592872, 0.982833)
bones/55/rotation = Quaternion(0.136098, 0.0784104, 0.984465, -0.0784741)
bones/56/rotation = Quaternion(-0.132337, -0.0149447, 0.0321786, 0.99057)
bones/57/rotation = Quaternion(0.534583, -0.0217457, -0.0275118, 0.844388)
bones/60/rotation = Quaternion(-0.0902537, -0.0170348, 0.99541, -0.0268745)
bones/61/rotation = Quaternion(-0.0733646, 0.0840486, -0.0244843, 0.993456)
bones/62/rotation = Quaternion(0.56511, 0.0110019, -0.00837456, 0.824899)
bones/63/rotation = Quaternion(0.288965, 0.0318911, 0.0140819, 0.956705)

[node name="XCameraPivot" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="YCameraPivot" type="Node3D" parent="XCameraPivot"]
unique_name_in_owner = true

[node name="SpringArm3D" type="SpringArm3D" parent="XCameraPivot/YCameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.4, 0)
collision_mask = 2
shape = SubResource("SphereShape3D_kww55")
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="XCameraPivot/YCameraPivot/SpringArm3D"]
current = true

[node name="Head" type="Camera3D" parent="XCameraPivot"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, -0.2)

[node name="StateMachine" parent="." instance=ExtResource("2_qhqgy")]

[connection signal="state_changed" from="StateMachine" to="CanvasLayer/HUD" method="_on_state_machine_state_changed"]

[editable path="PlayerModel"]
[editable path="StateMachine"]
